(this["webpackJsonpdata-visualization"]=this["webpackJsonpdata-visualization"]||[]).push([[0],{100:function(t,e,a){},102:function(t,e,a){"use strict";a.r(e);var n=a(6),i=a(0),c=a.n(i),s=a(9),r=a.n(s),o=(a(89),a(72)),l=a(40),h=a(74),d=a(143),b=a(151),u=a(154),j=a(152),x=a(157),m=a(103),g=a(150),p=a(69),v=a(70),O=a(49),f=a(75),S=a(73),k=a(21),T=(a(100),a(16)),_=function(t){Object(f.a)(a,t);var e=Object(S.a)(a);function a(t){var n;return Object(p.a)(this,a),(n=e.call(this,t)).state=n.getInitialState(t),n._tooltipHtml=n._tooltipHtml.bind(Object(O.a)(n)),n._onChange=n._onChange.bind(Object(O.a)(n)),n}return Object(v.a)(a,[{key:"getInitialState",value:function(t){var e=T.chartWidth,a=T.chartMargin,n=T.brushMargin,i=this._getRange(t.data),c=i.minX,s=i.maxX;return{data:t.data,xScale:k.d3.time.scale().domain([c,s]).range([0,e-(null===a||void 0===a?void 0:a.left)-(null===a||void 0===a?void 0:a.right)]),xScaleBrush:k.d3.time.scale().domain([c,s]).range([0,e-(null===n||void 0===n?void 0:n.left)-(null===n||void 0===n?void 0:n.right)])}}},{key:"_getRange",value:function(t){var e,a,n,i;t.length>0&&(e=(null===(n=t[0].values)||void 0===n?void 0:n.length)>0?t[0].values[0].x:0,a=(null===(i=t[0].values)||void 0===i?void 0:i.length)>0?t[0].values[t[0].values.length-1].x:0);return{minX:e,maxX:a}}},{key:"_tooltipHtml",value:function(t,e){return"this is a test"}},{key:"_onChange",value:function(t){var e=T.chartWidth,a=T.chartMargin;this.setState({xScale:k.d3.time.scale().domain([t[0],t[1]]).range([0,e-(null===a||void 0===a?void 0:a.left)-(null===a||void 0===a?void 0:a.right)])})}},{key:"render",value:function(){var t=T.chartWidth,e=T.chartHeight,a=T.chartMargin,i=T.brushHeight,c=T.brushMargin,s=this._getRange(this.state.data),r=s.minX,o=s.maxX;return Object(n.jsxs)("div",{children:[Object(n.jsx)(k.LineChart,{data:this.state.data,width:t,height:e,margin:a,xScale:this.state.xScale,xAxis:{tickValues:this.state.xScale.ticks(k.d3.time.day,2),tickFormat:k.d3.time.format("%m/%d")},tooltipHtml:this._tooltipHtml}),Object(n.jsx)("div",{className:"brush",style:{float:"none"},children:Object(n.jsx)(k.Brush,{width:t,height:i,margin:c,xScale:this.state.xScaleBrush,extent:[r,o],onChange:this._onChange,xAxis:{tickValues:this.state.xScaleBrush.ticks(k.d3.time.day,2),tickFormat:k.d3.time.format("%m/%d")}})})]})}}]),a}(i.Component),y=a(53),C=a(153),I=a(149),N=a(155),D=a(159),E=a(160),M=a(158),w=a(147),F=a(148),H=a(156),W=Object(d.a)((function(t){return Object(x.a)({paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary}})})),A=function(t){var e=W(),a=function(t){setState(Object(l.a)(Object(l.a)({},state),{},Object(y.a)({},t.target.name,t.target.checked)))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(m.a,{className:e.paper,children:[Object(n.jsx)("h3",{children:"Stock Movement"}),Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{label:"normalization factor",type:"number",fullWidth:!0,inputProps:{min:"0",max:"2",step:"0.1"},InputLabelProps:{shrink:!0},variant:"outlined"})})]}),Object(n.jsxs)(m.a,{className:e.paper,children:[Object(n.jsx)("h3",{children:"Sentiment model"}),Object(n.jsxs)(M.a,{component:"fieldset",children:[Object(n.jsx)(w.a,{component:"legend",children:"Sentiment"}),Object(n.jsxs)(D.a,{defaultValue:"textblob","aria-label":"sentiment",name:"sentiment-model",children:[Object(n.jsx)(E.a,{value:"textblob",control:Object(n.jsx)(N.a,{}),label:"textblob"}),Object(n.jsx)(E.a,{value:"custom",control:Object(n.jsx)(N.a,{}),label:"custom"})]})]}),Object(n.jsxs)(M.a,{component:"fieldset",children:[Object(n.jsx)(w.a,{component:"legend",children:"Source"}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(E.a,{control:Object(n.jsx)(H.a,{onChange:a,name:"twitter"}),label:"Twitter"}),Object(n.jsx)(E.a,{control:Object(n.jsx)(H.a,{onChange:a,name:"nyt"}),label:"NYT"})]})]})]}),Object(n.jsx)(I.a,{size:"small",children:"Update Chart"})]})},L=Object(d.a)((function(t){return Object(x.a)({container:{flexGrow:1},paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary}})})),R=function(t){var e=L(),a=[{label:"stock",values:t.chartData.stock},{label:"twitter",values:t.chartData.sentiment.textblob.TWITTER},{label:"nytimes",values:t.chartData.sentiment.textblob.NYTIMES}];return Object(n.jsx)("div",{className:e.container,children:Object(n.jsxs)(g.a,{container:!0,spacing:3,children:[Object(n.jsx)(g.a,{item:!0,xs:2,children:Object(n.jsx)(A,{})}),Object(n.jsx)(g.a,{item:!0,xs:10,children:Object(n.jsx)(m.a,{className:e.paper,children:Object(n.jsx)(_,{data:a})})})]})})};function X(t){var e=t.value,a=t.index,i=t.chartData,c=Object(h.a)(t,["value","index","chartData"]);return Object(n.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:e!==a,id:"tabpanel-".concat(a)},c),{},{children:e===a&&Object(n.jsx)(R,{chartData:i})}))}var B=Object(d.a)((function(t){return{root:{flexGrow:1,backgroundColor:t.palette.background.paper}}}));function P(t){var e=B(),a=Object(i.useState)(0),c=Object(o.a)(a,2),s=c[0],r=c[1],l=T.companies;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Sentiment Analysis for Stockmarket"}),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(b.a,{position:"static",children:Object(n.jsx)(u.a,{value:s,onChange:function(t,e){r(e)},children:l.map((function(t,e){return Object(n.jsx)(j.a,{id:"tab-".concat(e),label:t})}))})}),l.map((function(e,a){return Object(n.jsx)(X,{value:s,index:a,chartData:t.appData[e]})}))]})]})}var Y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,161)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,c=e.getLCP,s=e.getTTFB;a(t),n(t),i(t),c(t),s(t)}))};fetch("data/aggregated.json").then((function(t){return t.json()})).then((function(t){var e=function(t){var e={};return t.map((function(t){var a=t.date,n=t.company,i=t.source,c=t.sent_score_textblob,s=t.sent_score_custom,r=t.positives_textblob,o=t.negatives_textblob,l=t.positives_custom,h=t.negatives_custom,d=t.price,b=t.price_change,u=a.split("-"),j=new Date("".concat(u[2],"-").concat(u[0],"-").concat(u[1],"T20:00:00.000Z"));e[n]=e[n]||{stock:[],sentiment:{textblob:{NYTIMES:[],TWITTER:[]},custom:{NYTIMES:[],TWITTER:[]}}},"TWITTER"===i&&e[n].stock.push({x:j,price:d,y:d&&b?b/d:0}),e[n].sentiment.textblob[i].push({x:j,y:c,positives:r,negatives:o}),e[n].sentiment.custom[i].push({x:j,y:s,positives:l,negatives:h})})),e}(t);r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(P,{appData:e})}),document.getElementById("root"))})),Y()},16:function(t){t.exports=JSON.parse('{"companies":["APPLE","DISNEY","NETFLIX","TESLA"],"chartMargin":{"top":10,"bottom":50,"left":50,"right":20},"brushMargin":{"top":0,"bottom":30,"left":50,"right":20},"chartWidth":1200,"chartHeight":400,"brushHeight":50}')},89:function(t,e,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.46839eda.chunk.js.map